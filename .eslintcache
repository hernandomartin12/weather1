[{"C:\\Users\\Vincent\\Desktop\\test-master\\src\\index.js":"1","C:\\Users\\Vincent\\Desktop\\test-master\\src\\reportWebVitals.js":"2","C:\\Users\\Vincent\\Desktop\\test-master\\src\\App.js":"3","C:\\Users\\Vincent\\Desktop\\test-master\\src\\components\\Pollution.js":"4","C:\\Users\\Vincent\\Desktop\\test-master\\src\\components\\Navbar.js":"5","C:\\Users\\Vincent\\Desktop\\test-master\\src\\components\\UserLocation.js":"6"},{"size":833,"mtime":1608292033000,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":1608292033000,"results":"9","hashOfConfig":"8"},{"size":4806,"mtime":1608292033000,"results":"10","hashOfConfig":"8"},{"size":4771,"mtime":1608292033000,"results":"11","hashOfConfig":"8"},{"size":576,"mtime":1608292033000,"results":"12","hashOfConfig":"8"},{"size":2261,"mtime":1608292033000,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"os7zus",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Vincent\\Desktop\\test-master\\src\\index.js",[],["28","29"],"C:\\Users\\Vincent\\Desktop\\test-master\\src\\reportWebVitals.js",[],"C:\\Users\\Vincent\\Desktop\\test-master\\src\\App.js",[],"C:\\Users\\Vincent\\Desktop\\test-master\\src\\components\\Pollution.js",["30"],"import React, { useEffect, useState } from \"react\";\n\nimport axios from \"axios\";\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nconst Pollution = (props) => {\n  const [pollutionData, setPollutionData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [location, setLocation] = useState(\"\");\n  const setAqiColor = (aqi) => {\n    console.log(aqi);\n    let color = \"#14ea14\";\n    switch (true) {\n      case aqi > 7 && aqi <= 10:\n        color = \"#14ea14\";\n\n        break;\n      case aqi >= 4 && aqi <= 7:\n        color = \"#ead014\";\n        break;\n      case aqi >= 0:\n        color = \"#ea6314\";\n        break;\n      default:\n        break;\n    }\n\n    return color;\n  };\n\n  const loadPollutionData = async (position) => {\n    const latitude = position.coords.latitude;\n    const longitude = position.coords.longitude;\n\n    setLoading(true);\n    //console.log(latitude, longitude);\n    try {\n      const weatherRes = await axios.get(\n        `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=b9dfff4772ea4035c45e4bbc1da13479`\n      );\n      const res = await axios.get(\n        `http://api.openweathermap.org/data/2.5/air_pollution?lat=${latitude}&lon=${longitude}&appid=b9dfff4772ea4035c45e4bbc1da13479`\n      );\n\n      console.log(res.data);\n      console.log(weatherRes.data);\n      setPollutionData({\n        name: weatherRes.data.name,\n        country: weatherRes.data.sys.country,\n        aqi: res.data.list[0].main.aqi,\n        pm2_5: res.data.list[0].components.pm2_5,\n        pm10: res.data.list[0].components.pm10,\n        aqiColor: setAqiColor(res.data.list[0].main.aqi),\n      });\n\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(loadPollutionData);\n    }\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const weatherRes = await axios.get(\n        `http://api.openweathermap.org/data/2.5/weather?q=${location}&appid=b9dfff4772ea4035c45e4bbc1da13479`\n      );\n\n      const { lat, lon } = weatherRes.data.coord;\n      const res = await axios.get(\n        `http://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${lon}&appid=b9dfff4772ea4035c45e4bbc1da13479`\n      );\n\n      setPollutionData({\n        name: weatherRes.data.name,\n        country: weatherRes.data.sys.country,\n        aqi: res.data.list[0].main.aqi,\n        pm2_5: res.data.list[0].components.pm2_5,\n        pm10: res.data.list[0].components.pm10,\n        aqiColor: setAqiColor(res.data.list[0].main.aqi),\n      });\n\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ height: \"100vh\" }}>\n      {!loading && pollutionData ? (\n        <div className=\"container\" style={{ height: \"100%\" }}>\n          <div className=\"row\">\n            <div className=\"col\" style={{ paddingTop: \"50px\" }}>\n              <form\n                class=\"region\"\n                style={{ textAlign: \"center\" }}\n                onSubmit={(e) => handleSubmit(e)}\n              >\n                <input\n                  type=\"text\"\n                  class=\"regioninput\"\n                  placeholder=\"Select your region\"\n                  onChange={(e) => setLocation(e.target.value)}\n                />\n              </form>\n              <h3 className=\"text-center display-4\">\n                {pollutionData.name} , {pollutionData.country}\n              </h3>\n              <div className=\"pollution mt-5\">\n                <div className=\"pollutionInner\">\n                  <div\n                    className=\"aqi\"\n                    style={{ background: pollutionData.aqiColor }}\n                  >\n                    <h4 className=\"text-center \">Air quality Index</h4>\n                    <h2 className=\"aqiIndex\">{pollutionData.aqi * 10}</h2>\n                  </div>\n                  <div className=\"pmCont\">\n                    <p>PM 2.5:</p>\n                    <h4> {pollutionData.pm2_5}</h4>\n                    <p>PM 10:</p>\n                    <h4> {pollutionData.pm10}</h4>\n                  </div>\n                </div>\n              </div>\n              <div className=\"btnCont\">\n                <Button variant=\"info\">\n                  <Link to=\"/\" style={{ color: \"white\" }}>\n                    Go back to home\n                  </Link>\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <h1 className=\"text-center\">Loading...</h1>\n      )}\n    </div>\n  );\n};\n\nPollution.propTypes = {};\n\nexport default Pollution;\n","C:\\Users\\Vincent\\Desktop\\test-master\\src\\components\\Navbar.js",[],"C:\\Users\\Vincent\\Desktop\\test-master\\src\\components\\UserLocation.js",[],{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","severity":1,"message":"36","line":68,"column":6,"nodeType":"37","endLine":68,"endColumn":8,"suggestions":"38"},"no-native-reassign",["39"],"no-negated-in-lhs",["40"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadPollutionData'. Either include it or remove the dependency array.","ArrayExpression",["41"],"no-global-assign","no-unsafe-negation",{"desc":"42","fix":"43"},"Update the dependencies array to be: [loadPollutionData]",{"range":"44","text":"45"},[1929,1931],"[loadPollutionData]"]