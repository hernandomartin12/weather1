(this.webpackJsonpcuaca1=this.webpackJsonpcuaca1||[]).push([[0],{21:function(e,t,a){},43:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),i=a(30),r=a.n(i),o=(a(21),a(42),a(4)),l=a(31),d=a(32),h=a(35),j=a(34);function u(e){console.log(e);var t=e.weather,a=t.temperature,n=t.description,s=t.location,i=t.region,r=t.country,o=t.wind_speed,l=t.pressure,d=t.precip,h=t.humidity,j=t.img,u=e.weather;return console.log(u),console.log(e.deafult),Object(c.jsx)("div",{className:"keluarga",children:e.deafult?Object(c.jsx)("div",{className:"deafult",children:Object(c.jsxs)("div",{className:"col-md-3 weather-tempdeafult",children:[Object(c.jsxs)("h1",{children:[e.deafult&&u.name,",",e.deafult&&u.sys.country]}),Object(c.jsxs)("h1",{children:[e.deafult&&u.main.temp,Object(c.jsx)("sup",{children:"o"}),e.isFah?"F":"C"]}),Object(c.jsx)("h2",{children:e.deafult&&u.weather[0].main})]})}):Object(c.jsxs)("div",{className:"user-weather",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-3 weather-temp",children:[Object(c.jsxs)("h1",{children:[a,Object(c.jsx)("sup",{children:"o"})," ",e.isFah?"F":"C"," , ",n]}),Object(c.jsx)("h4",{children:s}),Object(c.jsxs)("p",{children:[i," , ",r]})]}),Object(c.jsx)("div",{className:"col-md-9",children:Object(c.jsx)("img",{className:"mainImg",src:j,alt:"weather-img"})})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-3 weather-info",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Wind Speed"}),"(km/hr)"]}),Object(c.jsx)("h2",{children:o})]}),Object(c.jsxs)("div",{className:"col-md-3 weather-info",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Preassure"}),"(millibar)"]}),Object(c.jsx)("h2",{children:l})]}),Object(c.jsxs)("div",{className:"col-md-3 weather-info",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Precipitation"}),"(mm)"]}),Object(c.jsx)("h2",{children:d})]}),Object(c.jsxs)("div",{className:"col-md-3 weather-info",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Humidity"}),"(%)"]}),Object(c.jsx)("h2",{children:h})]})]})]})})}function p(e){return Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)("h1",{className:"title",children:"Weather App"})}),Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)("form",{className:"region",onSubmit:function(t){e.changeLocation(t)},children:Object(c.jsx)("input",{type:"text",className:"regioninput",placeholder:"Select your region",onChange:function(t){e.changeRegion(t.target.value)}})})})]})}a(43);var b=a(10),m=a.n(b),O=a(71),x=a(11),g=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={deafult:!0,isFah:!1,userPosition:{latitude:35,longitude:139},weather:null,regionInput:""},e.convertTemp=function(){var t=e.state.deafult?e.state.weather.main.temp:e.state.weather.temperature,a=Math.round(9*t/5+32),c=Math.round(5*(t-32)/9);e.state.deafult?e.setState(Object(o.a)(Object(o.a)({},e.state),{},{weather:Object(o.a)(Object(o.a)({},e.state.weather),{},{main:Object(o.a)(Object(o.a)({},e.state.weather.main),{},{temp:e.state.isFah?c:a})}),isFah:!e.state.isFah})):e.setState(Object(o.a)(Object(o.a)({},e.state),{},{weather:Object(o.a)(Object(o.a)({},e.state.weather),{},{temperature:e.state.isFah?c:a}),isFah:!e.state.isFah}))},e.changeRegion=function(t){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{regionInput:t}))},e.changeLocation=function(t){t.preventDefault(),m.a.get("http://api.weatherstack.com/current?access_key=ee2c00a09ba65e4467143d28625d3fa2&query=".concat(e.state.regionInput)).then((function(t){var a={temperature:t.data.current.temperature,description:t.data.current.weather_descriptions[0],location:t.data.location.name,region:t.data.location.region,country:t.data.location.country,wind_speed:t.data.current.wind_speed,pressure:t.data.current.pressure,precip:t.data.current.precip,humidity:t.data.current.humidity,img:t.data.current.weather_icons};e.setState(Object(o.a)(Object(o.a)({},e.state),{},{weather:a,deafult:!1,isFah:!1}))}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var a=t.coords.latitude,c=t.coords.longitude;m.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(c,"&appid=b9dfff4772ea4035c45e4bbc1da13479")).then((function(t){console.log(t),t.data.main.temp=Math.round(t.data.main.temp-273),e.setState(Object(o.a)(Object(o.a)({},e.state),{},{weather:t.data,deafult:!0}))}))}))}},{key:"render",value:function(){var e=this;return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(p,{changeRegion:this.changeRegion,changeLocation:this.changeLocation}),this.state.weather?Object(c.jsx)(u,{deafult:this.state.deafult,weather:this.state.weather,isFah:this.state.isFah}):Object(c.jsx)("p",{children:"loading loadinggg"}),Object(c.jsxs)("div",{className:"d-flex justify-content-center my-5",children:[Object(c.jsxs)(O.a,{variant:"info",onClick:function(t){return e.convertTemp()},children:["Switch to ",this.state.isFah?"Celcius":"Fahrenheit"]}),Object(c.jsx)(O.a,{variant:"primary mx-3",children:Object(c.jsx)(x.b,{to:"/pollution",style:{color:"white"},children:"Get air pollution info"})})]})]})})}}]),a}(s.a.Component),f=a(13),v=a.n(f),w=a(20),y=a(14),N=function(e){var t=Object(n.useState)(null),a=Object(y.a)(t,2),s=a[0],i=a[1],r=Object(n.useState)(!1),o=Object(y.a)(r,2),l=o[0],d=o[1],h=Object(n.useState)(""),j=Object(y.a)(h,2),u=j[0],p=j[1],b=function(e){console.log(e);var t="#14ea14";switch(!0){case e>7&&e<=10:t="#14ea14";break;case e>=4&&e<=7:t="#ead014";break;case e>=0:t="#ea6314"}return t},g=function(){var e=Object(w.a)(v.a.mark((function e(t){var a,c,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.coords.latitude,c=t.coords.longitude,d(!0),e.prev=3,e.next=6,m.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(c,"&appid=b9dfff4772ea4035c45e4bbc1da13479"));case 6:return n=e.sent,e.next=9,m.a.get("http://api.openweathermap.org/data/2.5/air_pollution?lat=".concat(a,"&lon=").concat(c,"&appid=b9dfff4772ea4035c45e4bbc1da13479"));case 9:s=e.sent,console.log(s.data),console.log(n.data),i({name:n.data.name,country:n.data.sys.country,aqi:s.data.list[0].main.aqi,pm2_5:s.data.list[0].components.pm2_5,pm10:s.data.list[0].components.pm10,aqiColor:b(s.data.list[0].main.aqi)}),d(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0),d(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(g)}),[]);var f=function(){var e=Object(w.a)(v.a.mark((function e(t){var a,c,n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(!0),e.prev=2,e.next=5,m.a.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(u,"&appid=b9dfff4772ea4035c45e4bbc1da13479"));case 5:return a=e.sent,c=a.data.coord,n=c.lat,s=c.lon,e.next=9,m.a.get("http://api.openweathermap.org/data/2.5/air_pollution?lat=".concat(n,"&lon=").concat(s,"&appid=b9dfff4772ea4035c45e4bbc1da13479"));case 9:r=e.sent,i({name:a.data.name,country:a.data.sys.country,aqi:r.data.list[0].main.aqi,pm2_5:r.data.list[0].components.pm2_5,pm10:r.data.list[0].components.pm10,aqiColor:b(r.data.list[0].main.aqi)}),d(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),d(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{style:{height:"100vh"},children:!l&&s?Object(c.jsx)("div",{className:"container",style:{height:"100%"},children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col",style:{paddingTop:"50px"},children:[Object(c.jsx)("form",{class:"region",style:{textAlign:"center"},onSubmit:function(e){return f(e)},children:Object(c.jsx)("input",{type:"text",class:"regioninput",placeholder:"Select your region",onChange:function(e){return p(e.target.value)}})}),Object(c.jsxs)("h3",{className:"text-center display-4",children:[s.name," , ",s.country]}),Object(c.jsx)("div",{className:"pollution mt-5",children:Object(c.jsxs)("div",{className:"pollutionInner",children:[Object(c.jsxs)("div",{className:"aqi",style:{background:s.aqiColor},children:[Object(c.jsx)("h4",{className:"text-center ",children:"Air quality Index"}),Object(c.jsx)("h2",{className:"aqiIndex",children:10*s.aqi})]}),Object(c.jsxs)("div",{className:"pmCont",children:[Object(c.jsx)("p",{children:"PM 2.5:"}),Object(c.jsxs)("h4",{children:[" ",s.pm2_5]}),Object(c.jsx)("p",{children:"PM 10:"}),Object(c.jsxs)("h4",{children:[" ",s.pm10]})]})]})}),Object(c.jsx)("div",{className:"btnCont",children:Object(c.jsx)(O.a,{variant:"info",children:Object(c.jsx)(x.b,{to:"/",style:{color:"white"},children:"Go back to home"})})})]})})}):Object(c.jsx)("h1",{className:"text-center",children:"Loading..."})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))},k=a(3);r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(x.a,{children:Object(c.jsxs)(k.c,{children:[Object(c.jsx)(k.a,{exact:!0,path:"/",component:g}),Object(c.jsx)(k.a,{exact:!0,path:"/pollution",component:N})]})})}),document.getElementById("root")),F()}},[[70,1,2]]]);
//# sourceMappingURL=main.fa7bc7f2.chunk.js.map